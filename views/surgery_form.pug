extends layout

block content
  h1= title
  script(type='text/javascript').
        $(document).ready(function() {
        $('#doctor').multiselect();
        });
  form(method='POST' action='')
    div.form-group
      label(for='doctor') Doctor: 
      select#doctor.form-control(type='select', placeholder='Select doctor' name='doctor' required='true', multiple='multiple')
        for doctor in doctors
          if surgery
            option(value=doctor._id selected=(doctor._id.toString()==doctor._id.toString() ? 'selected' : false) ) #{doctor.name}
          else
            option(value=doctor._id) #{doctor.name}
    div.form-group
      label(for='patient') Patient:
      select#patient.form-control(type='select', placeholder='Select patient' name='patient' required='true' )
        for patient in patients
          if surgery
            option(value=patient._id selected=(patient._id.toString()==patient._id.toString() ? 'selected' : false) ) #{patient.name}
          else
            option(value=patient._id) #{patient.name}
    div.form-group
      label(for='start_date') Surgery start date:
      input#start_date.form-control(type='date', name='start_date' value=(undefined===surgery ? '' : surgery.start_date)  required='true' )
    div.form-group
      label(for='start_time') Surgery start time:
      input#start_time.form-control(type='time', name='start_time' value=(undefined===surgery ? '' : surgery.start_time)  required='true' )
    div.form-group
      label(for='end_date') Surgery end date:
      input#end_date.form-control(type='date', name='end_date', value=(undefined===surgery ? '' : surgery.end_date)  required='true')
    div.form-group
      label(for='end_time') Surgery end time:
      input#end_time.form-control(type='time', name='end_time', value=(undefined===surgery ? '' : surgery.end_time)  required='true')
    div.form-group
      label(for='status') Status:
      select#status.form-control(type='select', placeholder='Select status' name='status' required='true' )
        option(value='Active' selected=(undefined===surgery || surgery.status!='Active' ? false:'selected')) Active
        option(value='Inactive' selected=(undefined===surgery || surgery.status!='Inactive' ? false:'selected')) Inactive
    button.btn.btn-primary(type='submit') Submit

  if errors 
    ul
      for error in errors
        li!= error.msg
